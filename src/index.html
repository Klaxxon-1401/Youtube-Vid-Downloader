<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Downloader</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
</head>

<body>
    <div class="titlebar">
        <div class="app-icon">
            <img src="logo.png" alt="Logo">
        </div>
        <div class="app-title">YouTube Downloader</div>
        <div class="window-controls">
            <button id="min-btn">-</button>
            <button id="close-btn">Ã—</button>
        </div>
    </div>

    <!-- Animated Side Decorations -->
    <div class="side-decoration left animate__animated animate__fadeInLeft">
        <div class="deco-icon">ðŸŽµ</div>
        <div class="deco-line"></div>
    </div>

    <div class="side-decoration right animate__animated animate__fadeInRight">
        <div class="deco-icon">ðŸŽ¬</div>
        <div class="deco-line"></div>
    </div>

    <div class="container animate__animated animate__zoomIn">
        <!-- Setup Modal Overlay -->
        <div id="setup-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content glass-effect animate__animated animate__bounceIn">
                <div class="modal-header">
                    <h2>Setup Required</h2>
                    <p>FFmpeg and PhantomJS are missing. They are required to download and process videos.</p>
                </div>

                <div id="setup-initial">
                    <button id="start-setup-btn" class="primary-btn">Download & Install Libraries (~100MB)</button>
                    <p class="modal-hint">This only needs to be done once.</p>
                </div>

                <div id="setup-progress-container" style="display: none;">
                    <div class="progress-info">
                        <span id="setup-status">Initializing...</span>
                        <span id="setup-percent">0%</span>
                    </div>
                    <div class="progress-bar-bg">
                        <div class="progress-bar-fill" id="setup-progress-bar"></div>
                    </div>
                    <div id="setup-details" class="progress-details">
                        <span id="setup-speed"></span>
                        <span id="setup-eta"></span>
                    </div>
                    <p class="modal-hint">Please keep the app open.</p>
                </div>

                <div id="setup-complete" style="display: none;">
                    <div class="success-icon">âœ“</div>
                    <h3>Setup Complete!</h3>
                    <p>Everything is ready. You can now download videos.</p>
                    <button id="close-setup-btn" class="primary-btn">Start Using App</button>
                </div>

                <div id="setup-error" style="display: none;">
                    <div class="error-icon">âœ—</div>
                    <h3>Setup Failed</h3>
                    <p id="setup-error-msg">An error occurred during setup.</p>
                    <button id="retry-setup-btn" class="primary-btn">Retry Setup</button>
                </div>
            </div>
        </div>

        <div class="content glass-effect">
            <div class="header-section animate__animated animate__fadeInDown">
                <h1>Download Video</h1>
                <p>Paste a YouTube link to get started</p>
            </div>

            <div class="input-group animate__animated animate__fadeInUp">
                <label>Video URL</label>
                <input type="text" id="url-input" placeholder="https://youtube.com/watch?v=...">
            </div>

            <div class="input-group animate__animated animate__fadeInUp">
                <label>Save Location</label>
                <div class="row">
                    <input type="text" id="path-input" readonly>
                    <button id="browse-btn">Browse</button>
                </div>
            </div>

            <div class="status-container">
                <div class="progress-info">
                    <span id="status-text">Ready to download</span>
                    <span id="percent-text">0%</span>
                </div>
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" id="progress-bar"></div>
                </div>
                <div class="meta-info">
                    <span id="speed-text"></span>
                    <span id="eta-text"></span>
                </div>
            </div>

            <button id="download-btn">Download Now</button>
        </div>
    </div>

    <!-- Local scripts for instant loading -->
    <script src="renderer.js"></script>
</body>

</html>